<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Güvenli Şifre Sistemi</title>
</head>
<body>
    <div id="password-form">
        <form id="form">
            <input type="password" id="password-input" placeholder="Şifreyi Girin" required>
            <button type="submit">Giriş Yap</button>
        </form>
    </div>

    <div id="protected-content" style="display: none;">
        <h1>Gizli İçerik</h1>
        <p>Bu içerik sadece doğru şifreyi girenlere görünür.</p>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        // SHA-256 algoritmasıyla 953736 şifresinin doğru hash değeri
        const storedPasswordHash = "a4f37d7a06057fa81b8d92de44c85e4d5ec1be1c632f5cfa8a907d3e5b6b7980"; 
        
        const content = document.getElementById('protected-content');
        const passwordForm = document.getElementById('form');
        content.style.display = 'none';

        async function hashPassword(password) {
            const msgUint8 = new TextEncoder().encode(password); // Şifreyi UTF-8 dizisine çevir
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgUint8); // SHA-256 hash üret
            const hashArray = Array.from(new Uint8Array(hashBuffer)); // Hash sonuçlarını byte dizisine çevir
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join(''); // Hexadecimal stringe çevir
            return hashHex;
        }

        passwordForm.addEventListener('submit', async function (e) {
          e.preventDefault();
          const inputPassword = document.getElementById('password-input').value;

          if (!inputPassword) {
              alert("Lütfen şifreyi girin.");
              return;
          }

          const hashedInput = await hashPassword(inputPassword);

          if (hashedInput === storedPasswordHash) { // Şifre doğruysa
              content.style.display = 'block';
              passwordForm.style.display = 'none';
          } else {
              alert('Yanlış şifre. Lütfen tekrar deneyin.');
          }
        });
      });
    </script>
</body>
</html>
